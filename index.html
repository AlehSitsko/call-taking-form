<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Call Taking Form and Price Calculator</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
<main class="layout">

  <!-- Left Pane: Main Call Taking Form -->
  <section class="left-pane">
    <!-- Navigation Button to Patient Database -->
    <a href="patients.html">
      <button type="button" class="float-right">üßë‚Äç‚öïÔ∏è Patients</button>
    </a>

    <h1>Call Taking Form</h1>

    <!-- Caller Info Form -->
    <form onsubmit="event.preventDefault();">
      <label for="callerType">Caller Type:</label>
      <select id="callerType" name="callerType">
        <option value="mtm">MTM</option>
        <option value="cts">CTS</option>
        <option value="statesman">Statesman</option>
        <option value="horsham">Horsham</option>
        <option value="private">Private</option>
        <option value="other">Other</option>
      </select>
      <!-- Only visible when 'Other' is selected -->
      <input type="text" id="otherCallerType" placeholder="Specify Other Caller Type" class="hidden" />

      <input id="callerName" type="text" placeholder="Enter caller's name" />
    </form>

    <!-- Patient Info Form -->
    <form id="patientInfoForm">
      <label for="namePt">Patient's Name:</label>
      <textarea id="namePt" placeholder="Enter Patient's Name"></textarea>

      <label for="lastNamePt">Patient's Last Name:</label>
      <textarea id="lastNamePt" placeholder="Enter Patient's Last Name"></textarea>

      <label for="patientDob">Patient's DOB:</label>
      <input id="patientDob" type="date" placeholder="Enter Patient's DOB" />

      <label for="patientAddress">Pick Up Address:</label>
      <textarea id="patientAddress" placeholder="Enter Patient's Pick Up Address"></textarea>

      <label for="pickUpTime">Pick Up Time:</label>
      <input id="pickUpTime" type="time" step="60" placeholder="Pick Up Time" />

      <label for="destinationAddress">Destination Address:</label>
      <textarea id="destinationAddress" placeholder="Enter Destination Address"></textarea>

      <label for="aptTime">Appointment Time:</label>
      <input id="aptTime" type="time" step="60" placeholder="Appointment Time" />

      <label for="specialInstructions">Special Instructions:</label>
      <textarea id="specialInstructions" placeholder="Enter Special Instructions"></textarea>

      <!-- Checkbox to enable return ride section -->
      <div class="return-ride-checkbox">
        <label for="hasReturnRide">Has a Return Ride:</label>
        <input type="checkbox" id="hasReturnRide" name="hasReturnRide" />
      </div>

      <!-- Return Ride Details (shown only if checkbox is checked) -->
      <div id="returnRideSection" class="hidden">
        <div class="will-call-checkbox">
          <input type="checkbox" id="isWillCall" />
          <label for="isWillCall">Will Call (Return time to be determined later)</label>
        </div>

        <label for="returnPickUpTime">Return Pick Up Time:</label>
        <input id="returnPickUpTime" type="time" step="60" placeholder="Return Pick Up Time" />

        <label for="returnRidePickUpAddress">Return Pick Up Address:</label>
        <textarea id="returnRidePickUpAddress" placeholder="Enter Return Pick Up Address"></textarea>

        <label for="returnDestinationAddress">Return Destination Address:</label>
        <textarea id="returnDestinationAddress" placeholder="Enter Return Destination Address"></textarea>

      </div>

      <!-- Action Buttons: Print and Email -->
      <button type="button" id="printBtn">Print</button>
      <button type="button" id="sendEmailBtn">Send Email</button>
    </form>
  </section>

  <!-- Right Pane: Price Calculator & FAQ -->
  <section class="right-pane">
    <h1>Price Calculator</h1>

    <!-- Toggle Calculator Visibility -->
    <label>
      <input type="checkbox" id="enableCalculator" />
      Enable Calculator
    </label>

    <!-- Calculator Form -->
    <div id="calculatorFields" class="hidden">
      <form id="priceCalculatorForm">
        <label for="serviceType">Service Type:</label>
        <select id="serviceType" name="serviceType">
          <option value="bls">BLS</option>
          <option value="bls3">BLS3</option>
          <option value="bls4">BLS4</option>
          <option value="bls6">BLS6</option>
          <option value="als">ALS</option>
          <option value="fixed">Fixed Price</option>
        </select>

        <label>
          <input type="checkbox" id="excludeMilesCheckbox" />
          Exclude Miles
        </label>

        <label for="miles">Miles:</label>
        <input type="number" id="miles" name="miles" step="0.1" />

        <label for="fixedPrice" id="fixedPriceLabel" class="hidden">Enter Fixed Price:</label>
        <input type="number" id="fixedPrice" name="fixedPrice" class="hidden" />

        <label for="waitingTimeChargePrice">Waiting Time Charge ($):</label>
        <input type="number" id="waitingTimeChargePrice" name="waitingTimeChargePrice" step="0.01" />

        <button type="submit">Calculate Price</button>
      </form>

      <!-- Price Output -->
      <div id="priceBreakdownContainer" class="printable-price">
        <p id="result"></p>
      </div>
    </div>

    <!-- FAQ Section for Guidance -->
    <section id="faqSection">
      <p>üìå <strong>FAQ ‚Äî Price Calculator</strong></p>
      <p><br />How do I choose the Service Type?<br />
      Select the service based on the patient‚Äôs weight and medical needs:<br />
      BLS ‚Äì Patient weighs 1‚Äì240 lbs<br />
      BLS3 ‚Äì Patient weighs 241‚Äì300 lbs<br />
      BLS4 ‚Äì Patient weighs 301‚Äì400 lbs<br />
      BLS6 ‚Äì Patient weighs 401+ lbs<br />
      ALS ‚Äì Required when the patient needs a paramedic on board<br />
      ‚ö†Ô∏è Choose the correct type to ensure appropriate equipment and crew.</p>

      <p>üìù <strong>Form Instructions</strong></p>
      <p><br />How do I fill out the Call Taking Form?<br />
      1. Select the Caller Type and enter the caller‚Äôs name.<br />
      2. Fill out the patient‚Äôs name, DOB, and addresses.<br />
      3. Specify pick-up and appointment times.<br />
      4. If return transport is needed, enable Return Ride and complete the fields.<br />
      5. Enable calculator and calculate price if needed.<br />
      6. Press Print to generate a copy or Send Email to submit electronically.</p>
    </section>
  </section>
</main>

<!-- JavaScript Modules -->
<script src="js/ui.js" defer></script>
<script src="js/pricing.js" defer></script>
<script src="js/patient.js" defer></script>
<script src="js/main.js" defer></script>
</body>
</html>